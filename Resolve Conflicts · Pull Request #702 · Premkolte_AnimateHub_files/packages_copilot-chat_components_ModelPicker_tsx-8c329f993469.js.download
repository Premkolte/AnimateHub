"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-chat_components_ModelPicker_tsx"],{12970:(e,i,l)=>{l.d(i,{z5:()=>T,Yb:()=>C,k:()=>A});var t,o=l(74848),a=l(21728),s=l(4817),r=l(77430),n=l(53419),d=l(13017),m=l(38621),c=l(87330),u=l(83294),h=l(5945),p=l(52446),g=l(81246),y=l(69948),_=l(12004),f=l(96665),b=l(39820),v=l(34164),x=l(96540),j=l(99505),M=l(73952),N=l(51213),k=l(35247),R=l(79064),w=l(2635),P=l(33592);let L=["o3-mini","Gemini 2.0 Flash"];var S=l(46062);let I={menuButton:"ModelPicker-module__menuButton--w_ML2",menuHeading:"ModelPicker-module__menuHeading--PBTLv",messageRetryButtonGroup:"ModelPicker-module__messageRetryButtonGroup--UkrjO",messageRetryDivider:"ModelPicker-module__messageRetryDivider--gIDae",messageRetryMenuButton:"ModelPicker-module__messageRetryMenuButton--rNpIr",messageRetryButton:"ModelPicker-module__messageRetryButton--DqHs5",modelNameDisabled:"ModelPicker-module__modelNameDisabled--Vhv9R",modelMetaLabel:"ModelPicker-module__modelMetaLabel--zMick",footer:"ModelPicker-module__footer--yCNLJ",buttonName:"ModelPicker-module__buttonName--Iid1H",loadingSpinner:"ModelPicker-module__loadingSpinner--BTsER"};var E=l(79184);let F="An error occurred while updating the policy";function C({onNewThreadSelected:e,type:i="global",selectedModel:l,onModelSelected:t,disabled:a=!1}){let s=(0,P.b)(),{model:r,availableModels:m,mode:c,messages:u,currentReferences:h,selectedThreadID:p,modelsLoading:g,isWaitingOnCopilot:y,streamingMessage:_}=(0,w.Pk)(),{premiumInteractionsQuotaExceeded:f,overagesEnabled:b,plan:v}=(0,E.xR)(),j="pending"===g.state,{search:L,pathname:I}=(0,d.zy)(),F=(0,x.useRef)(!1),C=k.W.premiumRequestQuotasEnabled&&f&&!b,U=a;k.W.disableModelPickerWhileStreaming&&(U=a||y||null!==_);let[q,D]=(0,x.useState)(null),T=(0,x.useRef)(!1);function G(e){t?t(e):s.selectModel(e)}return(l||(l=r),(0,x.useEffect)(()=>{j&&s.fetchModels()},[s,j]),(0,x.useEffect)(()=>{if(!F.current&&!j&&m.length>1){let e=R.Jt.getModel(p),i=e?.id,l=m.find(e=>e.id===i&&(C||i!==S.QA))||null;(!l&&v||v!==N.UH.IndividualFree&&l?.billing?.is_premium&&f&&!b)&&(l=(0,S.fZ)(m,v,f,b)),l&&(s.selectModel(l,!0),F.current=!0)}},[m,s,r,j,b,v,f,p,C]),(0,x.useEffect)(()=>{if("immersive"!==c)return;let e=new URLSearchParams(L).get("model");if(e&&("/copilot"===I||"/copilot/"===I)){if(r.id===e||T.current||!m?.length)return;T.current=!0;let i=m?.find(i=>i.id===e);i&&(s.selectModel(i,!1),(0,n.BI)("dotcom_chat.activate",{target:"COPILOT_MODEL_LOADED_FROM_URL",mode:"immersive"}))}},[m,s,c,r?.id,I,L]),m.length<2)?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(A,{selectedModel:l,models:m,type:i,onModelPicked:e=>{var t,o,a,s,r,d;"global"===i&&Y(l,e)||((0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_MODEL_SELECT",mode:"immersive",model:e.id,isUnchanged:Y(l,e),type:i}),Y(l,e)?G(e):(t=u,o=e,("message-retry"===i?(0,M.B)(t):t).some(e=>e.skillExecutions?.length)&&(!o.capabilities?.supports?.tool_calls||o.isThirdParty||"o1-ga"===o.capabilities.family))?D({model:e,command:{action:"requires-new-conversation",reason:"external-content"}}):(a=u,s=h,r=e,(("message-retry"===i?(0,M.B)(a):a).some(e=>e.mediaContent?.length)||s.some(e=>"image"===e.type))&&!r.capabilities?.supports?.vision)?D({model:e,command:{action:"requires-new-conversation",reason:"degraded-image-support"}}):(d=e).policy&&"enabled"!==d.policy.state?D({model:e,command:{action:"requires-policy-approval"}}):G(e))},disabled:U,variant:"invisible",plan:v??void 0}),q?.command.action==="requires-new-conversation"&&(0,o.jsx)(B,{model:q.model,reason:q.command.reason,onDismiss:()=>{(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_REQUIRES_NEW_CONVERSATION_CANCEL",mode:"immersive",model:q.model.id,type:i}),D(null)},onSwitch:async()=>{(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_REQUIRES_NEW_CONVERSATION_CONFIRM",mode:"immersive",model:q.model.id,type:i}),D(null),await e(),s.selectModel(q.model)}}),q?.command.action==="requires-policy-approval"&&(0,o.jsx)(O,{model:q.model,mode:c,onDismiss:()=>{(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_POLICY_CANCEL",mode:"immersive",model:q.model.id,type:i}),D(null)},onConfirm:async()=>{await s.acceptModelPolicy(q.model),s.selectModel(q.model),(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_POLICY_CONFIRM",mode:"immersive",model:q.model.id,type:i}),D(null)}})]})}let U=x.forwardRef(function(e,i){let l,t,s,r,n,d,h,p,g,y=(0,a.c)(20);y[0]!==e?({selectedModel:r,onModelPicked:s,disabled:t,...l}=e,y[0]=e,y[1]=l,y[2]=t,y[3]=s,y[4]=r):(l=y[1],t=y[2],s=y[3],r=y[4]);let _=`Retry with ${r.displayName}`;return y[5]!==s||y[6]!==r?(n=()=>s(r),y[5]=s,y[6]=r,y[7]=n):n=y[7],y[8]!==t||y[9]!==_||y[10]!==n?(d=(0,o.jsx)(c.K,{variant:"invisible","aria-label":_,onClick:n,icon:m.SyncIcon,disabled:t,className:I.messageRetryButton}),y[8]=t,y[9]=_,y[10]=n,y[11]=d):d=y[11],y[12]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)("div",{className:I.messageRetryDivider}),y[12]=h):h=y[12],y[13]!==l||y[14]!==t?(p=(0,o.jsx)(c.K,{variant:"invisible",icon:m.TriangleDownIcon,"aria-label":"Retry with\u2026",disabled:t,className:I.messageRetryMenuButton,...l}),y[13]=l,y[14]=t,y[15]=p):p=y[15],y[16]!==i||y[17]!==d||y[18]!==p?(g=(0,o.jsxs)(u.A,{className:I.messageRetryButtonGroup,ref:i,children:[d,h,p]}),y[16]=i,y[17]=d,y[18]=p,y[19]=g):g=y[19],g});function A({selectedModel:e,models:i,onModelPicked:l,type:t,disabled:a,variant:s="invisible",plan:r}){let[d,m]=(0,x.useState)(!1),c=r===N.UH.IndividualFree?(()=>{let e=new Set(i.map(e=>e.displayName));return[...i,...W.filter(i=>!e.has(i.displayName)).map(H)]})():i,u=k.W.immersiveStructuredModelPicker&&function(e){let i=e.some(e=>void 0!==e.model_picker_category)&&new Set(e.filter(e=>void 0!==e.model_picker_category).map(e=>e.model_picker_category)).size>1,l=e.some(e=>e.billing?.multiplier!==void 0)&&new Set(e.filter(e=>e.billing?.multiplier!==void 0).map(e=>e.billing?.multiplier)).size>1;return i||l}(c),{lowTier:g,midTier:y,highTier:_,base:f,preview:b}=u?{lowTier:c.filter(e=>void 0!==e.model_picker_category?"lightweight"===e.model_picker_category:e.billing&&(e.billing?.multiplier<1&&e.billing?.multiplier!==0||L.includes(e.displayName))||!1),midTier:c.filter(e=>void 0!==e.model_picker_category?"versatile"===e.model_picker_category:e.billing&&(e.billing?.multiplier===1||e.billing?.multiplier===0)&&!L.includes(e.displayName)||!1),highTier:c.filter(e=>void 0!==e.model_picker_category?"powerful"===e.model_picker_category:e.billing&&e.billing?.multiplier>1||!1),base:[],preview:[]}:{lowTier:[],midTier:[],highTier:[],base:c.filter(e=>!e.preview),preview:c.filter(e=>e.preview)},v=new Set(c.map(e=>e.vendor)).size>1,j=c.some(e=>e.isThirdParty),M=(0,x.useCallback)(i=>{let l=!a&&i;m(l),l&&(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_OPEN",mode:"immersive",model:e.id,type:t})},[a,e.id,t]),R=(0,x.useRef)(null),[w,P]=(0,x.useState)("down");return(0,o.jsx)("div",{ref:R,children:(0,o.jsxs)(h.W,{open:d,onOpenChange:M,children:["global"===t?(0,o.jsxs)(h.W.Button,{className:I.menuButton,variant:s??"invisible",disabled:a,children:[(0,o.jsx)("span",{className:"sr-only",children:"Model: "}),(0,o.jsx)("div",{className:I.buttonName,children:e.displayName})]}):(0,o.jsx)(h.W.Anchor,{"aria-label":"Retry with model",children:(0,o.jsx)(U,{selectedModel:e,onModelPicked:l,disabled:a})}),(0,o.jsxs)(h.W.Overlay,{width:"global"===t?"medium":"small",side:"outside-bottom",align:"end",onPositionChange:({position:e})=>{P(["inside-bottom","outside-bottom"].includes(e.anchorSide)?"down":"up")},children:[(0,o.jsxs)(p.l,{selectionVariant:"global"===t?"single":void 0,children:["message-retry"===t&&"down"===w&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D,{selectedModel:e,onModelPicked:l}),(0,o.jsx)(p.l.Divider,{})]}),"global"===t&&(0,o.jsx)("div",{className:I.menuHeading,children:"Models"}),f.length>0&&(0,o.jsxs)(p.l.Group,{children:["global"!==t&&(0,o.jsx)(p.l.GroupHeading,{children:"Models"}),f.map(i=>(0,o.jsx)(T,{model:i,selected:Y(e,i)&&"global"===t,onModelPicked:l,hasMultipleVendors:v,hasThirdPartyModel:j},i.id))]}),g.length>0&&(0,o.jsxs)(p.l.Group,{children:[(0,o.jsx)(p.l.GroupHeading,{children:"Fast and cost-efficient"}),g.map(i=>(0,o.jsx)(T,{model:i,selected:Y(e,i)&&"global"===t,onModelPicked:l,hasMultipleVendors:v,hasThirdPartyModel:j},i.id)),(y.length>0||_.length>0)&&(0,o.jsx)(p.l.Divider,{})]}),y.length>0&&(0,o.jsxs)(p.l.Group,{children:[(0,o.jsx)(p.l.GroupHeading,{children:"Versatile and highly intelligent"}),y.map(i=>(0,o.jsx)(T,{model:i,selected:Y(e,i)&&"global"===t,onModelPicked:l,hasMultipleVendors:v,hasThirdPartyModel:j},i.id)),_.length>0&&(0,o.jsx)(p.l.Divider,{})]}),_.length>0&&(0,o.jsxs)(p.l.Group,{children:[(0,o.jsx)(p.l.GroupHeading,{children:"Most powerful at complex tasks"}),_.map(i=>(0,o.jsx)(T,{model:i,selected:Y(e,i)&&"global"===t,onModelPicked:l,hasMultipleVendors:v,hasThirdPartyModel:j},i.id))]}),b.length>0&&(0,o.jsxs)(p.l.Group,{children:[(0,o.jsx)(p.l.GroupHeading,{children:"Preview"}),b.map(i=>(0,o.jsx)(T,{model:i,selected:Y(e,i)&&"global"===t,onModelPicked:l,hasMultipleVendors:v,hasThirdPartyModel:j},i.id))]}),"message-retry"===t&&"up"===w&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.l.Divider,{}),(0,o.jsx)(D,{selectedModel:e,onModelPicked:l})]})]}),k.W.premiumRequestQuotasEnabled&&(0,o.jsx)(q,{})]})]})})}function q(){let e,i=(0,a.c)(35),{plan:l,premiumChatQuotaRemaining:t,premiumInteractionsQuotaExceeded:s,chatQuotaRemaining:r,chatQuotaExceeded:n,canPurchaseAdditionalQuota:d,canUpgradePlan:m,overagesEnabled:c,resetDate:u}=(0,E.xR)(),h=null;if(l===N.UH.IndividualFree)if(n){let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used all requests available this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),"."]}),i[0]=e):e=i[0],h=e}else if(r<=j.fG){let e;i[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.fG,"% of your free requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[1]=e):e=i[1],h=e}else{let e;i[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to access more models and higher limits."]}),i[2]=e):e=i[2],h=e}if(l===N.UH.IndividualPro){if(s&&c){let e,l;i[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.MB,children:"Manage billing"}),i[3]=e):e=i[3],i[4]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month. You will be charged per premium request until the limit resets on ",u,"."," ",e]}),i[4]=u,i[5]=l):l=i[5],h=l}else if(s&&!c){let e,l;i[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),i[6]=e):e=i[6],i[7]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[7]=u,i[8]=l):l=i[8],h=l}else if(t<=j.mF&&!c){let e;i[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[9]=e):e=i[9],h=e}}if(l===N.UH.IndividualProPlus){if(s&&c){let e,l;i[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.MB,children:"Manage billing"}),i[10]=e):e=i[10],i[11]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month. You will be charged per premium request until the limit resets on ",u,"."," ",e]}),i[11]=u,i[12]=l):l=i[12],h=l}else if(s&&!c){let e,l;i[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"}),i[13]=e):e=i[13],i[14]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to get more. Limit resets on ",u,"."]}),i[14]=u,i[15]=l):l=i[15],h=l}else if(t<=j.mF&&!c){let e;i[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"})," ","to get more."]}),i[16]=e):e=i[16],h=e}}if(l===N.UH.Business)if(s&&!c&&m){let e,l;i[17]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),i[17]=e):e=i[17],i[18]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[18]=u,i[19]=l):l=i[19],h=l}else if(t<=j.mF&&!c&&m){let e;i[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[20]=e):e=i[20],h=e}else if(!s||c||m){if(t<=j.mF&&!c&&!m){let e;i[24]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)("span",{className:"font-weight-bold",children:"Ask your admin to upgrade "}),"to increase your limit."]}),i[24]=e):e=i[24],h=e}}else{let e,l;i[21]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)("span",{className:"font-weight-bold",children:"Ask your admin to upgrade "}),i[21]=e):e=i[21],i[22]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have reached your monthly limit for premium requests."," ",e,"to increase your limit. Limit resets on ",u,"."]}),i[22]=u,i[23]=l):l=i[23],h=l}if(l===N.UH.Enterprise)if(s&&!c&&d){let e,l;i[25]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"}),i[25]=e):e=i[25],i[26]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[26]=u,i[27]=l):l=i[27],h=l}else if(!s||c||d){if(t<=j.mF&&!c&&d){let e;i[31]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"})," ","to get more usage after the limit is reached."]}),i[31]=e):e=i[31],h=e}else if(t<=j.mF&&!c&&!d){let e;i[32]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month. Ask your admin to"," ",(0,o.jsx)("span",{className:"font-weight-bold",children:"enable additional requests "}),"to get more usage."]}),i[32]=e):e=i[32],h=e}}else{let e,l;i[28]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)("span",{className:"font-weight-bold",children:"enable additional requests "}),i[28]=e):e=i[28],i[29]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have reached your monthly limit for premium requests. Ask your admin to"," ",e,"to get more usage. Limit resets on ",u,"."]}),i[29]=u,i[30]=l):l=i[30],h=l}return i[33]!==h?(e=h?(0,o.jsx)("div",{className:I.footer,children:h}):null,i[33]=h,i[34]=e):e=i[34],e}function D(e){let i,l,t,s,r=(0,a.c)(10),{selectedModel:n,onModelPicked:d}=e;return r[0]!==d||r[1]!==n?(i=()=>d(n),r[0]=d,r[1]=n,r[2]=i):i=r[2],r[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,o.jsx)(p.l.LeadingVisual,{children:(0,o.jsx)(m.SyncIcon,{})}),r[3]=l):l=r[3],r[4]!==n.displayName?(t=(0,o.jsx)(p.l.Description,{variant:"block",truncate:!0,children:n.displayName}),r[4]=n.displayName,r[5]=t):t=r[5],r[6]!==n.id||r[7]!==i||r[8]!==t?(s=(0,o.jsxs)(p.l.Item,{onSelect:i,children:[l,"Try again",t]},n.id),r[6]=n.id,r[7]=i,r[8]=t,r[9]=s):s=r[9],s}function T(e){let i,l,t,s,r,n,d,m,c=(0,a.c)(31),{model:u,selected:h,onModelPicked:g,hasMultipleVendors:y,hasThirdPartyModel:_}=e,{plan:f,premiumInteractionsQuotaExceeded:b,chatQuotaExceeded:x,overagesEnabled:j}=(0,E.xR)(),M=f===N.UH.IndividualFree&&x,R=u.billing?.is_premium&&f!==N.UH.IndividualFree&&b&&!j;c[0]!==u.billing?.restricted_to||c[1]!==f?(i=f&&u.billing?.restricted_to&&!u.billing?.restricted_to.includes(f),c[0]=u.billing?.restricted_to,c[1]=f,c[2]=i):i=c[2];let w=i,P="upsellModel"in u&&!0===u.upsellModel,L=M||R||w||P,F=u.id;c[3]!==u||c[4]!==g?(l=()=>g(u),c[3]=u,c[4]=g,c[5]=l):l=c[5];let C=!!L;c[6]!==y||c[7]!==_||c[8]!==u?(t=(y||_)&&(0,o.jsx)(p.l.LeadingVisual,{children:(0,o.jsx)(G,{model:u})}),c[6]=y,c[7]=_,c[8]=u,c[9]=t):t=c[9];let U=L&&I.modelNameDisabled;return c[10]!==U?(s=(0,v.$)(U),c[10]=U,c[11]=s):s=c[11],c[12]!==u.displayName||c[13]!==s?(r=(0,o.jsx)("span",{className:s,children:u.displayName}),c[12]=u.displayName,c[13]=s,c[14]=r):r=c[14],c[15]!==u.id||c[16]!==u.preview?(n=k.W.premiumRequestQuotasEnabled&&u.preview&&u.id!==S.QA&&(0,o.jsx)("span",{className:I.modelMetaLabel,children:"Preview"}),c[15]=u.id,c[16]=u.preview,c[17]=n):n=c[17],c[18]!==y||c[19]!==_||c[20]!==u.vendor?(d=!k.W.premiumRequestQuotasEnabled&&(y||_)&&(0,o.jsx)(p.l.Description,{variant:"block",truncate:!0,children:u.vendor}),c[18]=y,c[19]=_,c[20]=u.vendor,c[21]=d):d=c[21],c[22]!==u.id||c[23]!==h||c[24]!==d||c[25]!==l||c[26]!==C||c[27]!==t||c[28]!==r||c[29]!==n?(m=(0,o.jsxs)(p.l.Item,{onSelect:l,selected:h,disabled:C,children:[t,r,n,d]},F),c[22]=u.id,c[23]=h,c[24]=d,c[25]=l,c[26]=C,c[27]=t,c[28]=r,c[29]=n,c[30]=m):m=c[30],m}function B(e){let i,l,t,s,r=(0,a.c)(13),{model:n,onDismiss:d,onSwitch:m,reason:c}=e;return r[0]!==d||r[1]!==m?(i=e=>"confirm"===e?m():d(),r[0]=d,r[1]=m,r[2]=i):i=r[2],r[3]!==n||r[4]!==c?(l="external-content"===c&&(0,o.jsxs)("p",{children:["The ",n.displayName," model currently doesn\u2019t support external context from ongoing conversations. Start a new conversation to chat with this model."]}),r[3]=n,r[4]=c,r[5]=l):l=r[5],r[6]!==n||r[7]!==c?(t="degraded-image-support"===c&&(0,o.jsxs)("p",{children:["The ",n.displayName," model doesn\u2019t support answering questions about images. Start a new conversation without images to chat with this model."]}),r[6]=n,r[7]=c,r[8]=t):t=r[8],r[9]!==i||r[10]!==l||r[11]!==t?(s=(0,o.jsxs)(y.K,{title:"Switch model",onClose:i,confirmButtonContent:"New conversation",confirmButtonType:"primary",children:[l,t]}),r[9]=i,r[10]=l,r[11]=t,r[12]=s):s=r[12],s}function O({model:e,mode:i,onDismiss:l,onConfirm:t}){let[a,r]=(0,x.useState)(null),[d,m]=(0,x.useState)(!1),c=e.policy?.terms??"",u=async()=>{try{m(!0),await t(),r(null)}catch{r(F),(0,n.BI)("dotcom_chat.activate.error",{target:"ERROR_MODEL_POLICY",mode:i,message:F})}finally{m(!1)}};return(0,o.jsxs)(f.l,{width:"large",onClose:l,title:`Enable ${e.displayName}`,footerButtons:[{buttonType:"default",content:"Cancel",onClick:l},{buttonType:"primary",content:d?(0,o.jsx)(_.A,{size:"small",className:I.loadingSpinner}):"Enable",onClick:()=>void u()}],children:[a&&(0,o.jsx)(b.l,{title:"Error",variant:"critical",children:a}),(0,o.jsx)(s.To,{markdown:c})]})}function G(e){let i,l=(0,a.c)(3),{model:t}=e;return l[0]!==t.logoURL||l[1]!==t.vendor?(i=t.logoURL?(0,o.jsx)(r.r,{alt:`${t.vendor} logo`,square:!0,size:18,src:t.logoURL}):(0,o.jsx)(m.CopilotIcon,{}),l[0]=t.logoURL,l[1]=t.vendor,l[2]=i):i=l[2],i}function Y(e,i){return e.id===i.id}function H(e){let i=e.logoURL?.includes("anthropic")?"Anthropic":e.logoURL?.includes("openai")?"Azure OpenAI":e.logoURL?.includes("gemini")?"Google":"Unknown";return{...e,name:e.displayName,version:"1.0",vendor:i,model_picker_enabled:!0,hasLimitedCapabilities:!1,isThirdParty:"Azure OpenAI"!==i,capabilities:{family:"unknown",limits:{max_prompt_tokens:4096},supports:{},tokenizer:"gpt",type:"chat"},preview:e.preview??!1,billing:{...e.billing,is_premium:!0}}}let W=[{id:"o4-mini-upgrade",displayName:"o4-mini",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:.33}},{id:"claude-3.7-sonnet-upgrade",displayName:"Claude Sonnet 3.7",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:1}},{id:"claude-sonnet-4-upgrade",displayName:"Claude Sonnet 4",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:1}},{id:"gemini-2.5-pro-upgrade",displayName:"Gemini 2.5 Pro",logoURL:"/images/modules/marketplace/models/families/gemini.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"o3-upgrade",displayName:"o3",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"gpt-5",displayName:"GPT-5",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"claude-3-7-thinking-upgrade",displayName:"Claude Sonnet 3.7 Thinking",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:10}},{id:"claude-opus-4-upgrade",displayName:"Claude Opus 4",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:10}}];try{C.displayName||(C.displayName="ModelPicker")}catch{}try{U.displayName||(U.displayName="RetryButtonGroup")}catch{}try{(t=RetryButtonGroupWithRef).displayName||(t.displayName="RetryButtonGroupWithRef")}catch{}try{A.displayName||(A.displayName="ModelPickerDesign")}catch{}try{q.displayName||(q.displayName="ModelPickerFooter")}catch{}try{D.displayName||(D.displayName="RetryListItem")}catch{}try{T.displayName||(T.displayName="ModelListItem")}catch{}try{B.displayName||(B.displayName="NewConversationConfirmationDialog")}catch{}try{O.displayName||(O.displayName="ModelPolicyConfirmationDialog")}catch{}try{G.displayName||(G.displayName="ModelVendorIcon")}catch{}}}]);
//# sourceMappingURL=packages_copilot-chat_components_ModelPicker_tsx-9dc2dbe9a314.js.map