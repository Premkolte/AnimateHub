"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["codespaces"],{44105:(e,t,o)=>{o(21764);var n=o(31635),r=o(39595),a=o(78134),s=o(70987),i=o(97797),l=o(69759),c=o(51987);function d(e){for(let t of e.querySelectorAll(".js-toggle-hidden"))t.hidden=!t.hidden}async function u(){let e=document.querySelector(".js-codespaces-details-container");e&&(e.open=!1);let t=document.querySelector("new-codespace");if(t&&!t.getAttribute("data-no-submit-on-create"))try{let e=await fetch("/codespaces/new");if(e&&e.ok){let o=(0,l.B)(document,await e.text());t.replaceWith(o)}}catch{}}async function h(e,t){let o=document.querySelector(`#${e}`),n=await (0,s.r)({content:o.content.cloneNode(!0),dialogClass:"project-dialog"});return t&&t.setAttribute("aria-expanded","true"),n.addEventListener("dialog:remove",function(){t&&d(t)},{once:!0}),n}async function p(e){let t=await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"application/json",...(0,c.kt)()}});if(t.ok){let o=await t.json();o.codespace_url?(window.location.href=o.codespace_url,d(e),u(),m()):(e.closest("get-repo")||e.closest("new-codespace")?(e.setAttribute("data-src",o.loading_url),e.dispatchEvent(new CustomEvent("pollvscode"))):e.closest("create-button")&&(e.setAttribute("data-src",o.loading_url),e.dispatchEvent(new CustomEvent("prpollvscode"))),d(e))}else if(422===t.status){let o=await t.json();if("concurrency_limit_error"===o.error_type)await h("concurrency-error",e);else{let t=document.querySelector("template.js-flash-template"),n=o.error;t.after(new a.i4(t,{className:"flash-error",message:n})),d(e)}}}async function m(){let e=document.querySelector(".js-codespaces-completable"),t=e&&e.getAttribute("data-src");if(!t)return;let o=await fetch(t,{method:"GET",headers:{Accept:"text/fragment+html",...(0,c.kt)()}});if(o.ok){let t=(0,l.B)(document,await o.text());e.replaceWith(t)}else throw Error(`Unexpected response: ${o.statusText}`)}(0,i.on)("submit",".js-toggle-hidden-codespace-form",function(e){d(e.currentTarget)}),(0,i.on)("submit",".js-create-codespaces-form-command",function(e){let t=e.currentTarget;t.classList.contains("js-open-in-vscode-form")||(u(),d(t))}),(0,i.on)("submit","form.js-open-in-vscode-form",async function(e){e.preventDefault();let t=e.currentTarget;await p(t)});let f=class ConcurrencyLimitElement extends HTMLElement{async connectedCallback(){h("concurrency-error")}};f=(0,n.Cg)([r.p_],f);var g=o(35750),v=o(18150),b=o(85242),y=o(50467),w=o(46865),C=o(51973),_=o(53627),T=new WeakMap;let E=class NewCodespaceElement extends HTMLElement{async connectedCallback(){let e=new URLSearchParams(new URL(document.location.href,window.location.origin).search);e.has("response_error")&&(e.delete("response_error"),(0,_.MM)(e));let{signal:t}=(0,b._)(this,T,new AbortController);this.addEventListener("itemActivated",this,{signal:t})}disconnectedCallback(){(0,g._)(this,T).abort()}handleEvent(e){if("itemActivated"===e.type&&e.target===this.repositorySelectPanel&&this.advancedOptionsForm&&this.repoInput){let t=e.detail.item,o=t.querySelector("[data-value]")?.getAttribute("data-value");o&&(this.repoInput.value=o),(0,w.k_)(this.advancedOptionsForm)}}toggleLoadingVscode(){let e=this.loadingVscode.hidden,t=this.children;for(let o=0;o<t.length;o++)t[o].hidden=e;this.loadingVscode.hidden=!e}machineTypeSelected(e){let t=e.currentTarget.getAttribute("data-sku-name");this.skuNameInput&&t&&(this.skuNameInput.value=t),this.advancedOptionsForm&&(0,w.k_)(this.advancedOptionsForm)}pollForVscode(e){this.toggleLoadingVscode();let t=e.currentTarget.getAttribute("data-src");t&&this.vscodePoller.setAttribute("src",t)}vscsTargetUrlUpdated(e){let t=e.currentTarget;this.vscsTargetUrl.value=t.value}geoUpdated(e){let t=e.currentTarget,o=t.selectedItems[0]?.value;this.geoInput&&o&&(this.geoInput.value=o),this.advancedOptionsForm&&(0,w.k_)(this.advancedOptionsForm)}async declarativeSecretsHashUpdated(e){let t=e.currentTarget,o=t.getAttribute("data-name");if(!o)return;let n=t.value,r=(0,C.D4)(t.getAttribute("data-public-key"));"checkbox"!==t.getAttribute("type")||t.checked||(n=""),n?this.secrets_hash.set(o,(0,C.lF)(await (0,C.w)(r,n))):this.secrets_hash.delete(o),this.declarativeSecretsHash.value=JSON.stringify(Object.fromEntries(this.secrets_hash))}constructor(...e){super(...e),(0,y._)(this,"secrets_hash",new Map),(0,v._)(this,T,{writable:!0,value:void 0})}};(0,n.Cg)([r.aC],E.prototype,"declarativeSecretsHash",void 0),(0,n.Cg)([r.aC],E.prototype,"vscsTargetUrl",void 0),(0,n.Cg)([r.aC],E.prototype,"loadingVscode",void 0),(0,n.Cg)([r.aC],E.prototype,"vscodePoller",void 0),(0,n.Cg)([r.aC],E.prototype,"advancedOptionsForm",void 0),(0,n.Cg)([r.aC],E.prototype,"skuNameInput",void 0),(0,n.Cg)([r.aC],E.prototype,"repositorySelectPanel",void 0),(0,n.Cg)([r.aC],E.prototype,"repoInput",void 0),(0,n.Cg)([r.aC],E.prototype,"geoInput",void 0),E=(0,n.Cg)([r.p_],E);let A=class ExportBranchElement extends HTMLElement{connectedCallback(){this.abortPoll=new AbortController,this.loadingIndicator.hidden||this.startPoll()}disconnectedCallback(){this.abortPoll?.abort()}applyPublishParams(){let e=this.form.getAttribute("data-codespace-id"),t=document.querySelector(`[data-codespace-id='${e}'][data-class="publish-codespace-form"]`);if(t){let e=Object.fromEntries(new FormData(t).entries());if(this.form){let t=`?name=${e.name}&visibility=${e.visibility}`,o=(this.form.getAttribute("action")||"").split("?")[0]+t;this.form.setAttribute("action",o)}}}async exportBranch(e){e.preventDefault(),this.form.hidden=!0,this.loadingIndicator.hidden=!1,(await fetch(this.form.action,{method:this.form.method,body:new FormData(this.form),headers:{Accept:"text/fragment+html",...(0,c.kt)()}})).ok?this.startPoll():(this.form.hidden=!1,this.loadingIndicator.hidden=!0)}async startPoll(){let e=this.getAttribute("data-exported-codespace-url")||"",t=await this.poll(e);if(t)if(t.ok)this.loadingIndicator.hidden=!0,this.viewBranchLink.hidden=!1;else{let e=this.getAttribute("data-export-error-redirect-url")||"";window.location.href=encodeURI(e)}}async poll(e,t=1e3){if(this.abortPoll?.signal.aborted)return;let o=await fetch(e,{signal:this.abortPoll?.signal});return 202===o.status||404===o.status?(await new Promise(e=>setTimeout(e,t)),this.poll(e,1.5*t)):o}constructor(...e){super(...e),(0,y._)(this,"abortPoll",null)}};(0,n.Cg)([r.aC],A.prototype,"form",void 0),(0,n.Cg)([r.aC],A.prototype,"loadingIndicator",void 0),(0,n.Cg)([r.aC],A.prototype,"viewBranchLink",void 0),A=(0,n.Cg)([r.p_],A),o(18962),o(90787);let L=class CodespaceZeroConfigElement extends HTMLElement{connectedCallback(){this.toggleLocationConfigs("production")}updateVscsTargets(){for(let e of(this.vscsTargetUrl.disabled="local"!==this.vscsTarget.value,this.toggleLocationConfigs(this.vscsTarget.value),this.vscsTargets))e.value=this.vscsTarget.value}updateVscsTargetUrls(){for(let e of this.vscsTargetUrls)e.value=this.vscsTargetUrl.value}updateLocations(e){let t=e.currentTarget;this.setLocationValues(t.value)}setLocationValues(e){for(let t of this.locations)t.value=e}toggleLocationConfigs(e){for(let t of this.locationConfigs)if(t.getAttribute("data-vscs-target")===e){t.hidden=!1;let e=t.querySelector("option");e&&(e.selected=!0,this.setLocationValues(e.value))}else t.hidden=!0}};(0,n.Cg)([r.aC],L.prototype,"regionConfig",void 0),(0,n.Cg)([r.aC],L.prototype,"vscsTarget",void 0),(0,n.Cg)([r.aC],L.prototype,"vscsTargetUrl",void 0),(0,n.Cg)([r.zV],L.prototype,"locationConfigs",void 0),(0,n.Cg)([r.zV],L.prototype,"vscsTargets",void 0),(0,n.Cg)([r.zV],L.prototype,"vscsTargetUrls",void 0),(0,n.Cg)([r.zV],L.prototype,"locations",void 0),L=(0,n.Cg)([r.p_],L)},51973:(e,t,o)=>{o.d(t,{D4:()=>s,lF:()=>i,w:()=>a});var n=o(78134),r=o(97797);async function a(e,t){return(await o.e("packages_encryption_encrypt_ts").then(o.bind(o,44949))).encrypt(e,t)}function s(e){let t=atob(e).split("").map(e=>e.charCodeAt(0));return Uint8Array.from(t)}function i(e){let t="";for(let o of e)t+=String.fromCharCode(o);return btoa(t)}function l(e){return async function(t){let o=t.currentTarget;if(t.defaultPrevented||!o.checkValidity())return;let r=s(o.getAttribute("data-public-key"));for(let s of(t.preventDefault(),o.elements))if(s.id.endsWith("secret")){if(s.disabled=!0,s.required&&!s.value){let e=`${s.name} is invalid!`,t=document.querySelector("template.js-flash-template");t.after(new n.i4(t,{className:"flash-error",message:e}));return}let t=`${s.name}_encrypted_value`;if(!s.value){o.elements.namedItem(t).disabled=e;continue}o.elements.namedItem(t).value=i(await a(r,s.value))}o.submit()}}(0,r.on)("submit","form.js-encrypt-submit",async function(e){let t=e.currentTarget;if(e.defaultPrevented||!t.checkValidity())return;let o=t.elements.namedItem("secret_value");if(o.disabled=!0,!o.value)return;e.preventDefault();let n=s(t.getAttribute("data-public-key"));t.elements.namedItem("encrypted_value").value=i(await a(n,o.value)),t.submit()}),(0,r.on)("submit","form.js-encrypt-bulk-submit",l(!0)),(0,r.on)("submit","form.js-encrypt-bulk-submit-enable-empty",l(!1))},21764:(e,t,o)=>{o.d(t,{f:()=>l});var n=o(21403),r=o(97797),a=o(58371),s=o(46865),i=o(53627);function l(e,t){let o=t.querySelector("*"),n=e.ownerDocument.activeElement,r=null;if(n instanceof HTMLElement&&o instanceof Element){let e=function(e){let t=e.tagName.toLowerCase();if(e.hasAttribute("id")){let o=e.id,n=o.match(/^(.+)-\d+$/),r=o.match(/^(.+)-[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}(-.*)?$/);if(n){let e=n[1];return`${t}[id^="${e}"]`}if(r){let e=r[1],o=r[2]||"";return o?`${t}[id^="${e}"][id$="${o}"]`:`${t}[id^="${e}"]`}return`${t}#${o}`}let o=e.hasAttribute("class")?`.${e.className.split(" ").join(".")}`:"";return`${t}${o}`}(n),t=Array.from(o.querySelectorAll(e));if(1===t.length)r=t[0]??null;else if(t.length>1){let e=n.getAttribute("aria-describedby");if(e){let o=e.split(/\s+/).filter(Boolean);for(let e of t){let t=e.getAttribute("aria-describedby");if(!t)continue;let n=t.split(/\s+/).filter(Boolean);if(o.some(e=>n.includes(e))){r=e;break}}r||(r=t[0]??null)}else r=t[0]??null}}e.replaceWith(t),r instanceof HTMLElement&&r.focus()}function c(){let e=new URLSearchParams(new URL(document.location.href,window.location.origin).search);e.set("response_error","true"),window.location.replace(`${window.location.pathname}?${e.toString()}`)}(0,r.on)("remote-input-error","#js-codespaces-repository-select",()=>{document.querySelector("#js-codespaces-unable-load-repositories-warning").hidden=!1}),(0,a.JW)(".js-new-codespace-form",async function(e,t){let o=e.closest("[data-replace-remote-form-target]"),n=o.querySelector(".js-new-codespace-submit-button");n instanceof HTMLInputElement&&(n.disabled=!0),e.classList.remove("is-error"),e.classList.add("is-loading");try{n&&n.setAttribute("disabled","true");let e=await t.html();if(200!==e.status&&c(),l(o,e.html),"true"===o.getAttribute("data-allow-update-url")){var r=new FormData(document.querySelector("form.js-new-codespace-form"));let e=new URLSearchParams(new URL(document.location.href,window.location.origin).search),t=["vscs_target"];for(let[o,n]of r.entries()){if(t.includes(o)||!n){e.delete(o);continue}e.set(o,n)}(0,i.MM)(e)}}catch(e){throw c(),e}});let d=null;function u(e){d=e,null!==e&&document.querySelector(".js-codespace-loading-steps").setAttribute("data-current-state",d)}(0,n.lB)(".js-codespace-loading-steps",{constructor:HTMLElement,add:e=>{let t=e.getAttribute("data-current-state");t&&u(t)}}),(0,n.lB)(".js-codespace-advance-state",{constructor:HTMLElement,add:e=>{let t=e.getAttribute("data-state");t&&u(t)}}),(0,n.lB)(".js-auto-submit-form",{constructor:HTMLFormElement,initialize:s.k_}),(0,n.lB)(".js-workbench-form-container",{constructor:HTMLElement,add:()=>{let e=document.querySelector(".js-workbench-form-container form");(0,s.k_)(e)}})},18962:(e,t,o)=>{var n=o(31635),r=o(39595);let a=class InputDemuxElement extends HTMLElement{connectedCallback(){this.control&&(this.storedInput=Array(this.control.children.length).fill("")),this.addEventListener("input",this.relayInput.bind(this)),this.addEventListener("keydown",this.relayKeydown.bind(this));let e=this.closest("details");e&&e.addEventListener("toggle",()=>{e.open&&this.source.focus()})}relayKeydown(e){if((this.isControlTab(e.target)||e.target===this.source)&&("ArrowDown"===e.key||"Tab"===e.key))e.preventDefault(),e.stopPropagation(),this.routeCustomEvent(new CustomEvent("focus-list"));else if("Escape"===e.key){let e=this.closest("details");e&&e.removeAttribute("open")}}isControlTab(e){return!!e&&!!this.control&&Array.from(this.control.children).includes(e)}relayInput(e){if(!e.target)return;let t=e.target.value;this.routeCustomEvent(new CustomEvent("input-entered",{detail:t}))}routeCustomEvent(e){this.sinks[this.selectedIndex].dispatchEvent(e)}get selectedIndex(){if(!this.control)return 0;let e=this.control.querySelector('[aria-selected="true"]');return e?Array.from(this.control.children).indexOf(e):0}storeInput(){this.storedInput[this.selectedIndex]=this.source.value}updateInput(e){this.source.value=this.storedInput[this.selectedIndex];let t=e.detail.relatedTarget.getAttribute("data-filter-placeholder");this.source.placeholder=t,this.source.setAttribute("aria-label",t),this.notifySelected()}notifySelected(){let e=this.sinks[this.selectedIndex],t=new CustomEvent("tab-selected");e.dispatchEvent(t)}};(0,n.Cg)([r.aC],a.prototype,"source",void 0),(0,n.Cg)([r.zV],a.prototype,"sinks",void 0),(0,n.Cg)([r.aC],a.prototype,"control",void 0),a=(0,n.Cg)([r.p_],a)},87057:(e,t,o)=>{o.d(t,{O:()=>s,S:()=>a});var n=o(71315);let r=n.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",a="X-GitHub-Client-Version";function s(){return r}},70987:(e,t,o)=>{o.d(t,{r:()=>r});var n=o(97797);async function r(e){let t=document.querySelector("#site-details-dialog").content.cloneNode(!0),o=t.querySelector("details"),r=o.querySelector("details-dialog"),a=o.querySelector(".js-details-dialog-spinner");e.detailsClass&&o.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&r.classList.add(...e.dialogClass.split(" ")),e.label?r.setAttribute("aria-label",e.label):e.labelledBy&&r.setAttribute("aria-labelledby",e.labelledBy),document.body.append(t);try{let t=await e.content;a.remove(),r.prepend(t)}catch{a.remove();let t=document.createElement("span");t.textContent=e.errorMessage||"Couldn't load the content",t.classList.add("my-6"),t.classList.add("mx-4"),r.prepend(t)}return o.addEventListener("toggle",()=>{o.hasAttribute("open")||((0,n.h)(r,"dialog:remove"),o.remove())}),r}},51987:(e,t,o)=>{o.d(t,{jC:()=>l,kt:()=>s,tV:()=>i});var n=o(87057),r=o(69599),a=o(13523);function s(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,a.wE)(e)};return(0,r.G7)("client_version_header")&&(t={...t,[n.S]:(0,n.O)()}),t}function i(e,t){for(let[o,n]of Object.entries(s(t)))e.set(o,n)}function l(e){return{"X-GitHub-App-Type":e}}},13523:(e,t,o)=>{o.d(t,{$r:()=>s,M1:()=>i,li:()=>r,pS:()=>c,wE:()=>l});var n=o(71315);let r="X-Fetch-Nonce",a=new Set;function s(e){a.add(e)}function i(){return a.values().next().value||""}function l(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[r]=i():a.has(e)?t[r]=e:t[r]=Array.from(a).join(","),t}function c(){let e=n.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&s(e)}},46865:(e,t,o)=>{o.d(t,{Cy:()=>i,K3:()=>d,Z8:()=>l,k_:()=>a,lK:()=>u,m$:()=>s});var n=o(88578);function r(e,t,o){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:o}))}function a(e,t){t&&(function(e,t){if(!(e instanceof HTMLFormElement))throw TypeError("The specified element is not of type HTMLFormElement.");if(!(t instanceof HTMLElement))throw TypeError("The specified element is not of type HTMLElement.");if("submit"!==t.type)throw TypeError("The specified element is not a submit button.");if(!e||e!==t.form)throw Error("The specified element is not owned by the form element.")}(e,t),(0,n.A)(t)),r(e,"submit",!0)&&e.submit()}function s(e,t){if("boolean"==typeof t)if(e instanceof HTMLInputElement)e.checked=t;else throw TypeError("only checkboxes can be set to boolean value");else if("checkbox"===e.type)throw TypeError("checkbox can't be set to string value");else e.value=t;r(e,"change",!1)}function i(e,t){for(let o in t){let n=t[o],r=e.elements.namedItem(o);r instanceof HTMLInputElement?r.value=n:r instanceof HTMLTextAreaElement&&(r.value=n)}}function l(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),o=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==o&&"reset"!==o||e.isContentEditable}function c(e){return new URLSearchParams(e)}function d(e,t){let o=new URLSearchParams(e.search);for(let[e,n]of c(t))o.append(e,n);return o.toString()}function u(e){return c(new FormData(e)).toString()}},88578:(e,t,o)=>{function n(e){let t=e.closest("form");if(!(t instanceof HTMLFormElement))return;let o=r(t);if(e.name){let n=e.matches("input[type=submit]")?"Submit":"",r=e.value||n;o||((o=document.createElement("input")).type="hidden",o.classList.add("js-submit-button-value"),t.prepend(o)),o.name=e.name,o.value=r}else o&&o.remove()}function r(e){let t=e.querySelector("input.js-submit-button-value");return t instanceof HTMLInputElement?t:null}o.d(t,{A:()=>n,C:()=>r})},53627:(e,t,o)=>{o.d(t,{C3:()=>i,JV:()=>r,K3:()=>u,MM:()=>l,OE:()=>h,Zu:()=>d,bj:()=>a,jc:()=>c,kd:()=>s});var n=o(71315);function r(){return n.Kn?.state||{}}function a(e){p(r(),"",e)}function s(e){n.Kn?.pushState({appId:r().appId},"",e),m()}function i(e){p({...r(),...e},"",location.href)}function l(e){a(`?${e.toString()}${n.fV.hash}`)}function c(){a(n.fV.pathname+n.fV.hash)}function d(e){a(e.startsWith("#")?e:`#${e}`)}function u(){a(n.fV.pathname+n.fV.search)}function h(){n.Kn?.back()}function p(e,t,o){n.Kn?.replaceState(e,t,o),m()}function m(){n.cg?.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}},69759:(e,t,o)=>{o.d(t,{B:()=>n});function n(e,t){let o=e.createElement("template");return o.innerHTML=t,e.importNode(o.content,!0)}},58371:(e,t,o)=>{o.d(t,{Ax:()=>r.Ax,JW:()=>a,ZV:()=>r.ZV});var n=o(51987),r=o(13937);function a(e,t){(0,r.JW)(e,async(e,o,r)=>((0,n.tV)(r.headers),t(e,o,r)))}}},e=>{e.O(0,["vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_morphdom_dist_morphdom-esm_js-node_modules_swc_helpers_esm__define_property_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_virtualized-list_es_inde-8b3def","vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-970f7d","app_assets_modules_github_ref-selector_ts"],()=>e(e.s=44105)),e.O()}]);
//# sourceMappingURL=codespaces-09de7167efb2.js.map